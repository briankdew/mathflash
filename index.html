// 2. Start Session Action
      startSession() {
        this.state.isSessionActive = true;
        this.dom.sessionBtn.textContent = "Reset Session";
        
        // Reset Card Colors to Theme defaults
        this.dom.cardLeft.style.color = '';
        this.dom.cardRight.style.color = '';
        this.dom.cardResult.style.color = '';

        // Prepare Pool using the helper
        let pool = this.getFilteredPool();

        if (this.dom.orderSelect.value === 'random') this.shuffle(pool);

        this.state.queue = pool;
        this.state.totalProblems = pool.length;
        
        // Stats Reset
        this.state.stats = {
          completed: 0,
          correctFirst: 0,
          missedFirst: 0
        };

        // Timer Logic
        // Always track start time for stats, even if visual timer isn't used
        this.state.sessionStartObj = new Date();
        this.state.timerStart = Date.now();
        this.state.isTimerRunning = this.dom.timerToggle.checked;

        // LOCK Controls
        this.toggleControls(true);

        // Enable Input
        this.dom.input.disabled = false;
        this.dom.input.value = '';
        this.dom.input.focus();

        // --- NEW LOGGING LOGIC ---
        const timerStatus = this.state.isTimerRunning ? "ON" : "OFF";
        const opText = this.dom.opSelect.value === 'addsub' ? 'Addition / Subtraction' : 'Multiplication / Division';

        const startMsg = `
            <div class="session-start-msg">Session started (Timer ${timerStatus})</div>
            <table class="stats-table" style="margin-top: 0.25rem;">
                <tr><td>Operation:</td><td>${opText}</td></tr>
            </table>
        `;
        this.appendLogHTML(startMsg);
        // -------------------------

        this.nextProblem();
        
        // Resize to ensure everything fits
        this.handleResize();
      }
